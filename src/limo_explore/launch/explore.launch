<launch>
  <!-- we are using Gazebo sim time -->
  <param name="use_sim_time" value="true"/>

  <!-- 1) gmapping: build map from LIMO scan+odom -->
  <node pkg="gmapping" type="slam_gmapping" name="slam_gmapping" output="screen">
    <param name="base_frame" value="base_link"/>
    <param name="odom_frame" value="odom"/>
    <param name="map_update_interval" value="3.0"/>
    <param name="maxUrange" value="15.0"/>
    <remap from="/scan" to="/limo/scan"/>
  </node>

  <!-- 2) move_base: path planning -->
  <node pkg="move_base" type="move_base" respawn="false" name="move_base" output="screen">
      <rosparam file="$(find limo_explore)/config/move_base.yaml" command="load" />
      <rosparam file="$(find limo_explore)/config/costmap_common.yaml" command="load" ns="global_costmap" />
      <rosparam file="$(find limo_explore)/config/costmap_common.yaml" command="load" ns="local_costmap" />
      <rosparam file="$(find limo_explore)/config/costmap_global.yaml" command="load" />
      <rosparam file="$(find limo_explore)/config/costmap_local.yaml" command="load" />
      <rosparam file="$(find limo_explore)/config/planner_global.yaml" command="load" />
      <rosparam file="$(find limo_explore)/config/planner_local.yaml" command="load" />
  </node>

  <!-- 3) explore_lite: frontier generator -->
  <node pkg="explore_lite" type="explore" respawn="true" name="explore" output="screen">
      <rosparam file="$(find limo_explore)/config/exploration.yaml" command="load" />
  </node>

</launch>
